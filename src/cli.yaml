name: gmail-filer
version: "0.1"
author: Alan Alpert
about: |
    Splits up an mbox file generated by google takeout, into multiple smaller mbox files representing email folders.
    
    Sorting uses an allow list and a block list, both using gmail labels. If an email has any of the labels on the block
    list, then it is discarded immediately. Otherwise it will be added to a folder using the first label on the allow
    list which it matches. If it doesn't match any labels in the allow list it will be discarded (unless you pass -m)
args:
    - input:
        help: Mbox file to operate on.
        required: true
        index: 1
    - labels:
        short: l
        help: List all labels found in the input file.
    - misc:
        short: m
        long: keep-misc
        help: File any emails matching neither list in a "misc" file.
    - allow_list:
        help: Comma separated, ordered list of labels to use as folders.
        short: a
        long: allow
        takes_value: true
        default_value: "Drafts,Sent,Inbox,Archived"
    - block_list:
        help: Comma separated list of labels to discard immediately.
        short: n
        long: block
        takes_value: true
        default_value: "Spam,Deleted"

